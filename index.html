<!DOCTYPE html>
<html>
<style>

.dv1 {
  width: 45%;
  height: 80px;
  background: #d9d9d9;
  color: #555;
  float: left;
  text-align: center;  
  font-size: 25px;
  margin-top: 10px;
  margin-bottom: 10px;  
  padding-top: 5px;
  padding-bottom: 5px;  
  cursor: pointer;
  border-color: black;
  border: 2px solid;  
}

.LangFrom {
  margin-right: 10px;
  margin-left: 0px;
  padding-right: 5px;
  padding-left: 5px;  
  display: block;
}

.LangTo{
  margin-right: 0px;
  margin-left: 10px;
  padding-right: 5px;
  padding-left: 5px;
  display: block;  
}

.Null {
  background: #ffffff;
  color: #ffffff;
  cursor: auto;
  user-select: none; 
}


.active1{
  border-color: #2196F3;  
}



</style>
<body>

<div id="m_container1">
</div>

<script>
let text = '{"arrw":[' +
'{"Eng":"Apple","Rus":"Яблоко" },' +
'{"Eng":"Road","Rus":"Дорога" },' +
'{"Eng":"Earn","Rus":"зарабатывать" },' +
'{"Eng":"take place","Rus":"происходят, состояться" },' +
'{"Eng":"arguing","Rus":"спорят" },' +
'{"Eng":"Yelow","Rus":"Желтый" }]}';

const List1 = JSON.parse(text);

let prevSelLangFrom;

let cntr = document.getElementById("m_container1");
AddItemToHtml(cntr,List1); 


function getRandomInt(max) {
  return Math.floor(Math.random() * max);
}

function InitRandomArr(max, Arr1) {
  for (i = 0; i < max; i++) {
    Arr1[i] = i;     
  }
  let j; let a;
  for (i = max - 1; i >= 0; i--) {    
    j = getRandomInt(max - 1);  
	a = Arr1[i];
    Arr1[i] = Arr1[j];
	Arr1[j] = a;
  }  
}


function speak(text) {
            const message = new SpeechSynthesisUtterance();
            message.lang = "en-EN";
            message.text = text;
            window.speechSynthesis.speak(message)
        }


function clickLangFrom(aNode)
{
  if (prevSelLangFrom) {
    prevSelLangFrom.className = "dv1 LangFrom";          
  }
  prevSelLangFrom = aNode;        
  aNode.className = "dv1 LangFrom active1";
  speak(aNode.innerText);
  console.log(aNode.getAttribute("arrnum"));
}

function clickLangTo(aNode)
{
  if (prevSelLangFrom) {
    if (prevSelLangFrom.getAttribute("arrnum") == aNode.getAttribute("arrnum")){	  
      aNode.removeAttribute("onclick"); 
	  aNode.className = "dv1 LangTo Null";	  
	  prevSelLangFrom.removeAttribute("onclick");
	  prevSelLangFrom.className = "dv1 LangFrom Null";	  
	  prevSelLangFrom = 0;
	}
  }  
}

  
function AddItemToHtml(aToNode,obj)
  {
  const rArr = [];   
  InitRandomArr(obj.arrw.length, rArr);
  for (i = 0; i < obj.arrw.length; i++) {  
   const LangFrom = document.createElement("div");
   LangFrom.innerText = obj.arrw[i].Eng;
   LangFrom.className = "dv1 LangFrom";
   const att1 = document.createAttribute("onclick");
   att1.value = "clickLangFrom(this)";  
   LangFrom.setAttributeNode(att1);        
   const att12 = document.createAttribute("arrnum");
   att12.value = i;  
   LangFrom.setAttributeNode(att12);              
   aToNode.appendChild(LangFrom);   
   
   
   const LangTo = document.createElement("div");
   LangTo.innerText = obj.arrw[rArr[i]].Rus;
   const att2 = document.createAttribute("arrnum");
   att2.value = rArr[i];  
   LangTo.setAttributeNode(att2);           
   LangTo.className = "dv1 LangTo";
   const att22 = document.createAttribute("onclick");
   att22.value = "clickLangTo(this)";  
   LangTo.setAttributeNode(att22);           
   aToNode.appendChild(LangTo);      
 }

/*   const att12 = document.createAttribute("LngVa");
   att12.value = lon1;
   AddrItem.setAttributeNode(att12); 

   const att2 = document.createAttribute("onclick");
   att2.value = "clickDivItem(this)";  
   AddrItem.setAttributeNode(att2);     
   
   const att3 = document.createAttribute("onmousemove");
   att3.value = "mousemoveDivItem(this)";
   AddrItem.setAttributeNode(att3);   
   
   const att4 = document.createAttribute("onmouseleave");
   att4.value = "onmouseleaveDivItem(this)";
   AddrItem.setAttributeNode(att4);      

   const att5 = document.createAttribute("ondblclick");
   att5.value = "dblclickDivItem(this)";     
   AddrItem.setAttributeNode(att5);  
   
   const LLItem = document.createElement("div");
   LLItem.innerText =  lat1 +', ' + lon1;
   AddrItem.appendChild(LLItem);

   document.getElementById("listaddr").appendChild(AddrItem);   */
  }   



function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("filterDiv");
  if (c == "all") c = "";
  for (i = 0; i < x.length; i++) {
    w3RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
  }
}

function w3AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
  }
}

function w3RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);     
    }
  }
  element.className = arr1.join(" ");
}

// Add active class to the current button (highlight it)
var btnContainer = document.getElementById("myBtnContainer");
var btns = btnContainer.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function(){
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}
</script>

</body>
</html>
